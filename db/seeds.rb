# db/seeds.rb
User.destroy_all
City.destroy_all
DangerArea.destroy_all
Review.destroy_all

cities_photos = "https://res.cloudinary.com/dkcetjel5/image/upload/v1716668402/fotoRioDeJaneiro_shnysb.jpg"

# Generate different city descriptions
cities_descriptions = [
  "Conhecida por suas belas praias e vida noturna vibrante, esta cidade √© um dos destinos tur√≠sticos mais populares do Brasil.",
  "Com uma rica heran√ßa cultural e diversos pontos hist√≥ricos, esta cidade oferece um mergulho na hist√≥ria do Brasil.",
  "Cidade industrial com grande import√¢ncia econ√¥mica, conhecida por sua infraestrutura e desenvolvimento.",
  "Com um cen√°rio deslumbrante de montanhas e florestas, esta cidade √© perfeita para os amantes da natureza.",
  "Oferecendo uma mistura √∫nica de tradi√ß√£o e modernidade, esta cidade encanta seus visitantes com sua arquitetura e cultura."
]

# Generate different user bios in Portuguese
user_bios = [
  "Aventureiro(a) üåç, sempre em busca de novas experi√™ncias e culturas.",
  "Amante da fotografia üì∏ e das trilhas ao ar livre.",
  "Apaixonado(a) por tecnologia e inova√ß√£o üíª.",
  "Cozinheiro(a) nas horas vagas, sempre experimentando novas receitas ü•ò.",
  "Leitor(a) √°vido(a), m√£os sempre em um livro üìö.",
  "Mestre em yoga e medita√ß√£o üßò‚Äç‚ôÇÔ∏è, buscando um equil√≠brio interior.",
  "Viciado(a) em filmes e s√©ries üçøüé¨.",
  "Explorador(a) urbano(a) üèôÔ∏è, encontrando os melhores caf√©s e restaurantes.",
  "Entusiasta de esportes üö¥‚Äç‚ôÇÔ∏è, especialmente ciclismo e corrida.",
  "Artista nas horas vagas, apaixonado(a) por pintura e desenho üé®.",
  "Engenheiro(a) de software, sempre procurando novos desafios üë®‚Äçüíª.",
  "M√∫sico(a) üé∏, tocando guitarra e cantando em uma banda local.",
  "Apreciador(a) de vinhos üç∑ e boa comida.",
  "Apaixonado(a) por viagens de carro e acampamentos üèïÔ∏è.",
  "Defensor(a) dos direitos dos animais üêæ, sempre procurando ajudar."
]

# Generate good review titles and comments in Portuguese
good_review_titles = [
  "Experi√™ncia incr√≠vel!", "Maravilhoso!", "Bom custo-benef√≠cio", "Superou expectativas",
  "Perfeito!", "Excepcional", "√ìtimo lugar", "Satisfat√≥rio", "Fant√°stico", "Recomendo",
  "Excelente", "Amei!", "Lugar agrad√°vel", "Surpreendente", "Boa localiza√ß√£o", "Silencioso e confort√°vel",
  "Lugar encantador", "Bela vista", "Impec√°vel", "Adorei a estadia", "Voltaria com certeza",
  "Acesso f√°cil", "Confort√°vel", "Muito aconchegante", "Vale a pena", "Hospedagem impec√°vel",
  "Cidade acolhedora", "Passeios imperd√≠veis", "Seguran√ßa excelente", "Muita diversidade",
  "Gastronomia incr√≠vel", "Cidade charmosa", "Excelente infraestrutura", "Bem tranquilo"
]

good_review_comments = [
  "Tive uma experi√™ncia incr√≠vel neste lugar! A vista √© maravilhosa e todos foram muito acolhedores.",
  "Lugar maravilhoso! Espero voltar em breve para aproveitar mais.",
  "O lugar oferece um bom custo-benef√≠cio. Penso em voltar futuramente.",
  "Superou minhas expectativas! Recomendo fortemente.",
  "Foi simplesmente perfeito! Cada detalhe foi pensado com carinho.",
  "Um lugar excepcional, com atendimento de primeira.",
  "√ìtimo lugar para descansar e aproveitar a natureza.",
  "Satisfat√≥rio, mas pode melhorar em alguns aspectos.",
  "Fant√°stico! Foi uma experi√™ncia inesquec√≠vel.",
  "Recomendo para quem busca um lugar tranquilo e aconchegante.",
  "Excelente! Um dos melhores locais que j√° visitei.",
  "Amei! Foi uma experi√™ncia incr√≠vel.",
  "Lugar agrad√°vel e com uma vista espetacular.",
  "Foi surpreendente em todos os sentidos.",
  "Boa localiza√ß√£o, perto de tudo e de f√°cil acesso.",
  "O local √© silencioso e muito confort√°vel.",
  "Lugar encantador, me senti em casa.",
  "A vista √© simplesmente bela, de tirar o f√¥lego.",
  "Impec√°vel em todos os sentidos.",
  "Adorei a estadia. Fui muito bem recebido.",
  "Voltaria com certeza! Foi uma experi√™ncia muito boa.",
  "Acesso f√°cil e bem localizado.",
  "Muito confort√°vel, ideal para o descanso.",
  "Muito aconchegante, me senti em casa.",
  "Vale a pena conhecer este lugar encantador.",
  "Hospedagem impec√°vel, com atendimento de primeira.",
  "Cidade acolhedora e cheia de vida.",
  "Passeios imperd√≠veis e muita coisa para fazer.",
  "A seguran√ßa do local √© excelente. Me senti muito seguro.",
  "Muita diversidade para explorar e conhecer.",
  "A gastronomia √© simplesmente incr√≠vel! Variedade e sabor.",
  "Cidade charmosa e cheia de hist√≥ria.",
  "Excelente infraestrutura, com tudo o que voc√™ precisa.",
  "Muito tranquilo e ideal para relaxar."
]

# Generate bad review titles and comments in Portuguese
bad_review_titles = [
  "N√£o voltarei", "Decepcionante", "Muito ruim", "Pode melhorar", "P√©ssimo atendimento", "Nada de especial",
  "N√£o recomendo", "Barulhento demais", "Desorganizado", "Mediano", "Comodidades ruins", "P√©ssimas condi√ß√µes",
  "Muito caro", "Limpeza duvidosa", "Desastre total", "Falta manuten√ß√£o"
]

bad_review_comments = [
  "Infelizmente, minha experi√™ncia n√£o foi das melhores. N√£o pretendo voltar.",
  "A experi√™ncia foi decepcionante. Esperava mais.",
  "Achei muito ruim. N√£o recomendo.",
  "Pode melhorar em v√°rios pontos, mas tem potencial.",
  "O atendimento foi p√©ssimo. Precisa de melhorias urgentes.",
  "Nada de especial. Esperava algo mais.",
  "N√£o recomendo. H√° op√ß√µes melhores.",
  "O barulho excessivo me incomodou bastante.",
  "O local √© desorganizado. Precisa de uma boa reforma.",
  "Mediano, sem muitos pontos altos.",
  "As comodidades deixam a desejar.",
  "P√©ssimas condi√ß√µes de conserva√ß√£o.",
  "Achei muito caro para o que oferece.",
  "A limpeza do local deixou a desejar.",
  "Um desastre total. N√£o gostei de nada.",
  "Falta manuten√ß√£o em algumas √°reas."
]

# Seed Users
15.times do |i|
  User.create!(
    name: Faker::Name.name,
    email: "teste#{i + 1}@teste.com",
    phone_number: Faker::PhoneNumber.phone_number,
    address: Faker::Address.full_address,
    birthday: Faker::Date.birthday(min_age: 18, max_age: 65),
    password: "123456",
    bio: user_bios[i], # Assign each user a unique bio
    avatar: Faker::Avatar.image
  )
end

# Seed Cities
cities = ConectaAddressBr::Cities.by_state_single("RJ")
districts = ["Centro", "Zona Sul", "Zona Norte", "Zona Oeste"]
created_cities = cities.map do |city|
  City.create!(
    name: city,
    district: districts.sample,
    country: "Brasil",
    state: "RJ",
    safety_tip: "Dica de seguran√ßa relevante para #{city}, #{Faker::Lorem.paragraph}",
    photo: cities_photos,
    description: cities_descriptions.sample
  )
end

# Seed Danger Areas
rio_de_janeiro = City.find_by(name: "Rio de Janeiro")
mage = City.find_by(name: "Mag√©")

danger_areas = [
  {
    name: "Complexo do Alem√£o",
    description: "Complexo de favelas localizado na Zona Norte do Rio de Janeiro. √â uma √°rea de alta criminalidade, com frequentes confrontos entre fac√ß√µes e a pol√≠cia. Possui um alto √≠ndice de tr√°fico de drogas e as condi√ß√µes de vida s√£o prec√°rias.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Cidade de Deus",
    description: "Favela localizada na Zona Oeste do Rio de Janeiro, conhecida pelo filme hom√¥nimo. A √°rea sofre com a viol√™ncia relacionada ao tr√°fico de drogas e apresenta car√™ncias em infraestrutura b√°sica e saneamento.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Rocinha",
    description: "Favela localizada na Zona Sul do Rio de Janeiro, √© uma das maiores da Am√©rica Latina. Apesar de ser um ponto tur√≠stico, a Rocinha enfrenta problemas graves de seguran√ßa, com incid√™ncia de tr√°fico de drogas e conflitos armados.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Jacarezinho",
    description: "Favela localizada na Zona Norte do Rio de Janeiro, tem hist√≥rico de confrontos violentos entre traficantes e for√ßas de seguran√ßa. As condi√ß√µes de vida dos moradores s√£o complicadas, com falta de servi√ßos b√°sicos.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Santa Marta",
    description: "Favela localizada na Zona Sul do Rio de Janeiro, conhecida por projetos sociais e iniciativas de pacifica√ß√£o. No entanto, ainda enfrenta desafios de seguran√ßa, principalmente relacionados ao tr√°fico de drogas.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Vila Cruzeiro",
    description: "Favela localizada na Zona Norte do Rio de Janeiro, not√≥ria por tiroteios e conflitos entre fac√ß√µes criminosas. A √°rea apresenta dificuldades significativas em termos de infraestrutura e seguran√ßa.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Bongaba",
    description: "√Årea em Mag√© com hist√≥rico de alagamentos frequentes, o que representa um risco para os moradores. Os problemas de infraestrutura e a falta de servi√ßos b√°sicos agravam a situa√ß√£o da regi√£o.",
    risk: rand(1..5),
    city: mage
  },
  {
    name: "Mangueira",
    description: "Bairro com risco de enchentes no Rio de Janeiro, especialmente durante a temporada de chuvas. A comunidade enfrenta problemas recorrentes de saneamento inadequado e inunda√ß√µes.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Turano",
    description: "√Årea de risco na Zona Norte do Rio de Janeiro, conhecida por conflitos armados entre fac√ß√µes e a pol√≠cia. √â um local de alta vulnerabilidade social e falta de infraestrutura.",
    risk: rand(1..5),
    city: rio_de_janeiro
  },
  {
    name: "Manguinhos",
    description: "Favela com hist√≥rico de problemas de infraestrutura, como falta de √°gua e esgoto adequados. A viol√™ncia √© uma preocupa√ß√£o constante, e h√° uma presen√ßa significativa de atividades criminosas.",
    risk: rand(1..5),
    city: rio_de_janeiro
  }
]

danger_areas.each do |danger_area|
  da = DangerArea.new(danger_area)
  da.save!
end

# Seed Reviews
User.all.each do |user|
  50.times do |i|
    rate = rand(1..5)
    if rate >= 4
      title = good_review_titles[i % good_review_titles.size]
      comment = good_review_comments[i % good_review_comments.size]
    else
      title = bad_review_titles[i % bad_review_titles.size]
      comment = bad_review_comments[i % bad_review_comments.size]
    end

    Review.create!(
      title: title,
      rate: rate,
      comment: comment,
      user: user,
      city: created_cities.sample  # Use city: rather than city_id: Rails understands the association
    )
  end
end

puts "Seed completed!"
