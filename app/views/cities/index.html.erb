<div class="banner p-5" style="background: linear-gradient(to top right, #003366 25%, #660033 80%);">
  <h1 class="display-4" style="color: white;">Cidades</h1>
</div>

<div class="row justify-content-center" style="background-color: rgb(235, 233, 230); position: relative;">
  <div class="col-12 col-sm-10 col-md-8 my-5" style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); max-width: 95%; z-index: 10;">
    <%= form_with url: cities_path, method: :get, class: "d-flex w-100" do %>
      <%= text_field_tag :query, params[:query], class: "form-control flex-grow-1 me-2", placeholder: "Digite um destino" %>
      <%= submit_tag "Buscar", name: "", class: "btn btn-primary fw-semibold" %>
    <% end %>
  </div>

  <div id="map" style="width: 100%; height: 300px;"
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>

<div class="container">
  <div class="cards mt-3">
    <% @cities.each do |city| %>
      <%= link_to city_path(city), class: "card-trip shadow", style: "width: 100%;" do %>
        <%= image_tag("https://res.cloudinary.com/dkcetjel5/image/upload/v1717714474/fotoRiodeJaneiro_c%C3%B3pia_obzuaf.jpg") %>
        <div class="card-trip-infos p-3">
          <h5><strong><%= city.name %></strong></h5>
          <p class="text-start"><%= city.description %></p>
        </div>
      <% end %>
    <% end %>
  </div>
  

<div class="d-flex justify-content-center mt-4">
  <%== pagy_bootstrap_combo_nav_js(@pagy) %>
</div>
